{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport CircularProgress from '@mui/material/CircularProgress';\nimport axios from 'axios';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar fileUploadStatus = {\n  UPLOADING: 'UPLOADING',\n  START: 'PROCESSING',\n  COMPLETED: 'COMPLETED'\n};\nvar UploadFile = function UploadFile(_ref) {\n  var handleFile = _ref.handleFile;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isDragging = _useState2[0],\n    setIsDragging = _useState2[1];\n  var hiddenFileInput = React.useRef(null);\n  var _useState3 = useState('UPLOADING'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    status = _useState4[0],\n    setStatus = _useState4[1];\n  var dropRef = React.createRef();\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    fileName = _useState6[0],\n    setFileName = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    fileSize = _useState8[0],\n    setFileSize = _useState8[1];\n  var handleDrag = function handleDrag(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    debugger;\n  };\n  var handleDragIn = function handleDragIn(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      var fileUploaded = e.dataTransfer.files[0];\n      console.log('from handleDragIn', fileUploaded);\n    }\n  };\n  var handleDragOut = function handleDragOut(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  };\n  var handleDrop = function handleDrop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      console.log('from handleDrop');\n      var fileUploaded = e.dataTransfer.files[0];\n      onUpload(fileUploaded, false);\n    }\n  };\n  var handleClick = function handleClick(event) {\n    hiddenFileInput.current.click();\n  };\n  var handleChange = function handleChange(event) {\n    var fileUploaded = event.target.files[0];\n    onUpload(fileUploaded, false);\n  };\n  var onUpload = function onUpload(fileUploaded, isDragging) {\n    console.log('fileUploaded', fileUploaded);\n    setIsDragging(isDragging);\n    var formatFileSize = `${(fileUploaded.size / 1048576).toFixed(2)} MB`;\n    var fileName = fileUploaded.name.trim();\n    setFileName(fileName);\n    setFileSize(formatFileSize);\n    var fileExtension = fileName.split(\".\").pop().toLowerCase();\n    if (fileExtension === 'txt') {\n      TxtToJson(fileUploaded);\n    } else if (fileExtension === 'pdf') {\n      TxtToJson(fileUploaded);\n    }\n  };\n  var onDownload = function onDownload(params) {\n    console.log('downloading');\n  };\n  var PdfToJson = function PdfToJson(uploadFile) {\n    var reader = new FileReader();\n    var formData = new FormData();\n    formData.append('file', uploadFile);\n    reader.onload = function (e) {\n      var data = reader.result;\n      var content = JSON.stringify(data);\n      console.log('Upload PDF Json', JSON.parse(content));\n    };\n    reader.onerror = function () {\n      console.log('Error');\n    };\n    reader.readAsBinaryString(uploadFile);\n    setStatus('COMPLETED');\n  };\n  var TxtToJson = function TxtToJson(uploadFile) {\n    var reader = new FileReader();\n    var url = 'https://jolly-tree-16f0e16d9ad14d3fb6f6c77cf1698621.azurewebsites.net/upload';\n    var url2 = 'http://127.0.0.1:5000/upload';\n    var url3 = 'http://127.0.0.1:5000/health';\n    var formData = new FormData();\n    formData.append('file', uploadFile);\n    var config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    setStatus('STARTED');\n    axios.post(url2, formData, config).then(function (response) {\n      console.log(response.data);\n      var jsonStr = JSON.stringify(response.data, null, 2);\n      var blob = new Blob([jsonStr], {\n        type: 'text/plain;charset=utf-8'\n      });\n      var url = URL.createObjectURL(blob);\n      var link = document.createElement('a');\n      link.href = url;\n      link.download = 'data.txt';\n      link.click();\n      URL.revokeObjectURL(url);\n      setStatus('COMPLETED');\n    }).catch(function (err) {\n      return console.log('getUploadRep', err);\n    });\n  };\n  useEffect(function () {\n    var div = dropRef.current;\n    div.addEventListener('dragenter', handleDragIn);\n    div.addEventListener('dragleave', handleDragOut);\n    div.addEventListener('dragover', handleDrag);\n    div.addEventListener('drop', handleDrop);\n    return function cleanup() {\n      div.removeEventListener('dragenter', handleDragIn);\n      div.removeEventListener('dragleave', handleDragOut);\n      div.removeEventListener('dragover', handleDrag);\n      div.removeEventListener('drop', handleDrop);\n    };\n  });\n  return _jsxs(\"div\", {\n    ref: dropRef,\n    children: [status === 'START' && _jsxs(\"div\", {\n      style: styles.center,\n      children: [_jsxs(Text, {\n        children: [\" 1. We are upLoading you  \", fileName, \" (\", fileSize, \")\"]\n      }), _jsx(\"br\", {}), _jsx(\"div\", {\n        style: styles.center,\n        children: _jsx(CircularProgress, {})\n      })]\n    }), status === 'COMPLETED' && _jsxs(\"div\", {\n      style: styles.center,\n      children: [_jsx(Text, {\n        children: \"Successful! \"\n      }), _jsx(\"br\", {}), _jsx(Text, {\n        children: fileName\n      }), _jsx(\"button\", {\n        \"data-testid\": 'uploadTestBtn',\n        style: styles.btn,\n        onClick: function onClick() {\n          return onDownload(fileName);\n        },\n        children: \"Download\"\n      })]\n    }), status === 'UPLOADING' && _jsxs(\"div\", {\n      \"data-testid\": \"container\",\n      style: isDragging ? styles.draggedContainer : styles.container,\n      children: [_jsx(\"div\", {\n        style: styles.uploadButtonContainer\n      }), _jsx(\"p\", {\n        style: styles.text,\n        children: \"Drag and drop files here\"\n      }), _jsx(\"button\", {\n        \"data-testid\": 'uploadTestBtn',\n        style: styles.selectFileButton,\n        onClick: handleClick,\n        children: \"Select File\"\n      }), _jsx(\"input\", {\n        \"data-testid\": \"fileInput\",\n        type: \"file\",\n        ref: hiddenFileInput,\n        onChange: handleChange,\n        accept: \".txt, .pdf\",\n        style: {\n          display: 'none'\n        }\n      })]\n    })]\n  });\n};\nexport default UploadFile;\nvar styles = StyleSheet.create({\n  draggedContainer: {\n    width: '40%',\n    height: '240px',\n    border: 'dashed 1px #0055cb',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    opacity: .5,\n    marginLeft: '30%'\n  },\n  container: {\n    maxWidth: 750,\n    height: 240,\n    border: 'dashed 1px #2E3B55',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    margin: 'auto',\n    backgroundColor: 'rgba(255,255,255, 0.5)',\n    borderRadius: 'var(--muidocs-shap-borderRadius, 10px)'\n  },\n  uploadButtonContainer: {\n    width: 60,\n    height: 60,\n    marginLeft: '43%'\n  },\n  text: {\n    margin: 'auto',\n    height: '18px',\n    fontSize: '16px',\n    fontWeight: '500',\n    color: '#2E3B55'\n  },\n  selectFileButton: {\n    margin: 'auto',\n    alignSelf: 'center',\n    cursor: 'pointer',\n    color: '#0071e9',\n    backgroundColor: 'white',\n    border: 'solid 1px #0071ef',\n    height: '45px',\n    width: '120px',\n    textTransform: 'capitalize',\n    fontSize: '15px'\n  },\n  uploadButtons: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  center: {\n    textAlign: 'center',\n    color: '#0071e9',\n    textTransform: 'capitalize',\n    fontFamily: 'Roboto, Arial',\n    fontSize: 20,\n    padding: 5,\n    paddingTop: 30\n  },\n  btn: {\n    cursor: 'pointer',\n    color: '#0071e9',\n    backgroundColor: 'white',\n    border: 'solid 1px #0071ef',\n    height: '45px',\n    width: '100px',\n    textTransform: 'capitalize',\n    fontSize: '15px',\n    margin: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","StyleSheet","Text","CircularProgress","axios","jsxs","_jsxs","jsx","_jsx","fileUploadStatus","UPLOADING","START","COMPLETED","UploadFile","_ref","handleFile","_useState","_useState2","_slicedToArray","isDragging","setIsDragging","hiddenFileInput","useRef","_useState3","_useState4","status","setStatus","dropRef","createRef","_useState5","_useState6","fileName","setFileName","_useState7","_useState8","fileSize","setFileSize","handleDrag","e","preventDefault","stopPropagation","handleDragIn","dataTransfer","items","length","fileUploaded","files","console","log","handleDragOut","handleDrop","onUpload","handleClick","event","current","click","handleChange","target","formatFileSize","size","toFixed","name","trim","fileExtension","split","pop","toLowerCase","TxtToJson","onDownload","params","PdfToJson","uploadFile","reader","FileReader","formData","FormData","append","onload","data","result","content","JSON","stringify","parse","onerror","readAsBinaryString","url","url2","url3","config","headers","post","then","response","jsonStr","blob","Blob","type","URL","createObjectURL","link","document","createElement","href","download","revokeObjectURL","catch","err","div","addEventListener","cleanup","removeEventListener","ref","children","style","styles","center","btn","onClick","draggedContainer","container","uploadButtonContainer","text","selectFileButton","onChange","accept","display","create","width","height","border","flexDirection","justifyContent","opacity","marginLeft","maxWidth","margin","backgroundColor","borderRadius","fontSize","fontWeight","color","alignSelf","cursor","textTransform","uploadButtons","textAlign","fontFamily","padding","paddingTop"],"sources":["/Users/tony/Documents/gpt_temp/FT/src/uploader.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from 'react';\nimport { StyleSheet, Text } from 'react-native';\nimport { Document, Page } from 'react-pdf';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Box from '@mui/material/Box';\nimport axios from 'axios';\n\n/**\n * RefObject type interface\n */\ninterface RefObject<T> {\n    readonly current: T | null;\n}\n\n/**\n * UploadFile interface\n */\ninterface IUploadFile {\n    /**\n     * Function passes the Item selected\n     * @param value\n     */\n    handleFile(any): void;\n}\n\nconst fileUploadStatus = {\n    UPLOADING: 'UPLOADING',\n    START: 'PROCESSING',\n    COMPLETED: 'COMPLETED'\n}\n\n/**\n * UploadFile Functional component implementation\n */\nconst UploadFile: FC<IUploadFile> = ({ handleFile }) => {\n    const [isDragging, setIsDragging] = useState<boolean>(false);\n    const hiddenFileInput: RefObject<any> = React.useRef(null);\n    const [status, setStatus] = useState('UPLOADING');\n    const dropRef: RefObject<any> = React.createRef();\n    const [fileName, setFileName] = useState();\n    const [fileSize, setFileSize] = useState('');\n\n    // Drag&Drop methods\n    const handleDrag = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        debugger;\n    };\n    const handleDragIn = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n            const fileUploaded = e.dataTransfer.files[0];\n            console.log('from handleDragIn', fileUploaded)\n            // onUpload(fileUploaded, true);\n        }\n    };\n    const handleDragOut = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n    };\n    const handleDrop = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        setIsDragging(false);\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n            console.log('from handleDrop')\n            const fileUploaded = e.dataTransfer.files[0];\n            onUpload(fileUploaded, false);\n        }\n    };\n\n    // Event handling\n    const handleClick = (event) => {\n        hiddenFileInput.current.click();\n    };\n    const handleChange = (event) => {\n        const fileUploaded = event.target.files[0];\n        onUpload(fileUploaded, false);\n    };\n\n\n    const onUpload = (fileUploaded, isDragging: boolean) => {\n        console.log('fileUploaded', fileUploaded);\n        setIsDragging(isDragging);\n        //SetFileDetail\n        const formatFileSize = `${(fileUploaded.size / 1048576).toFixed(2)} MB`;\n        const fileName = fileUploaded.name.trim();\n        setFileName(fileName);\n        setFileSize(formatFileSize);\n        const fileExtension = fileName.split(\".\").pop().toLowerCase();\n        // Making call\n\n        if (fileExtension === 'txt') {\n            TxtToJson(fileUploaded)\n        } else if (fileExtension === 'pdf') {\n            // PdfToJson(fileUploaded)\n            TxtToJson(fileUploaded)\n        }\n\n\n    }\n\n    const onDownload = (params: string) => {\n        console.log('downloading',)\n    }\n\n    const PdfToJson = (uploadFile) => {\n        const reader: FileReader = new FileReader();\n        const formData = new FormData();\n        formData.append('file', uploadFile);\n        reader.onload = (e) => {\n            const data = reader.result;\n            const content = JSON.stringify(data);\n            console.log('Upload PDF Json', JSON.parse(content))\n        };\n        reader.onerror = () => {\n            console.log('Error')\n        };\n        reader.readAsBinaryString(uploadFile);\n        setStatus('COMPLETED');\n        //reserved fn\n    }\n\n    const TxtToJson = (uploadFile) => {\n        const reader: FileReader = new FileReader();\n        const url = 'https://jolly-tree-16f0e16d9ad14d3fb6f6c77cf1698621.azurewebsites.net/upload'\n        const url2 = 'http://127.0.0.1:5000/upload';\n        const url3 = 'http://127.0.0.1:5000/health';\n\n        const formData = new FormData();\n        formData.append('file', uploadFile);\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data',\n            },\n        };\n        setStatus('STARTED');\n        axios.post(url2, formData, config).then((response) => {\n            console.log(response.data);\n       \n\n            const jsonStr = JSON.stringify(response.data, null, 2);\n\n            // Create a blob from the string\n            const blob = new Blob([jsonStr], { type: 'text/plain;charset=utf-8' });\n        \n            // Create a URL for the blob\n            const url = URL.createObjectURL(blob);\n        \n            // Create a link and programmatically click it to initiate download\n            const link = document.createElement('a');\n            link.href = url;\n            link.download = 'data.txt';\n            link.click();\n        \n            // Afterwards, revoke the object URL to avoid memory leaks\n            URL.revokeObjectURL(url);\n\n\n            setStatus('COMPLETED');\n        }).catch(\n            err => console.log('getUploadRep', err)\n        )\n        // reader.onload = (e) => {\n        //     const data = reader.result;\n        //     const content = JSON.stringify(data);\n        //     console.log('Upload txt Json', JSON.parse(content))\n        //     setStatus('STARTED');\n\n        //     axios.post(url2, uploadFile, {\n        //         headers: {\n        //             'Content-Type': 'multipart/form-data'\n        //         }\n        //     }).then(\n        //         response => {\n        //             setStatus('COMPLETED');\n        //             console.log('getUploadRep', response)\n        //         }\n        //     ).catch(\n        //         err => console.log('getUploadRep', err)\n        //     )\n        // };\n        // reader.onerror = () => {\n        //     console.log('Error')\n        // };\n        // reader.readAsBinaryString(uploadFile);\n\n    }\n\n    // Set and remove eventListeners during mount and unmount\n    useEffect(() => {\n        const div: HTMLDivElement = dropRef.current;\n        div.addEventListener('dragenter', handleDragIn);\n        div.addEventListener('dragleave', handleDragOut);\n        div.addEventListener('dragover', handleDrag);\n        div.addEventListener('drop', handleDrop);\n        return function cleanup() {\n            div.removeEventListener('dragenter', handleDragIn);\n            div.removeEventListener('dragleave', handleDragOut);\n            div.removeEventListener('dragover', handleDrag);\n            div.removeEventListener('drop', handleDrop);\n        };\n    });\n    return (\n        <div ref={dropRef} >\n            {status === 'START' &&\n                <div style={styles.center}>\n                    <Text> 1. We are upLoading you  {fileName} ({fileSize})</Text><br />\n                    <div style={styles.center}>\n                        <CircularProgress />\n                    </div>\n                </div>\n            }\n            {status === 'COMPLETED' &&\n                <div style={styles.center}>\n                    <Text>Successful! </Text><br />\n                    <Text>{fileName}</Text>\n                    <button\n                        data-testid={'uploadTestBtn'}\n                        style={styles.btn}\n                        onClick={() => onDownload(fileName)}\n                    >\n                        Download\n                    </button>\n                </div>\n            }\n            {status === 'UPLOADING' &&\n                <div\n                    data-testid=\"container\"\n                    style={isDragging ? styles.draggedContainer : styles.container}\n                >\n                    <div style={styles.uploadButtonContainer}>\n                        {/* <UploadFileIcon /> */}\n                    </div>\n                    <p style={styles.text}>Drag and drop files here</p>\n                    <button\n                        data-testid={'uploadTestBtn'}\n                        style={styles.selectFileButton}\n                        onClick={handleClick}\n                    >\n                        Select File\n                    </button>\n                    <input\n                        data-testid=\"fileInput\"\n                        type=\"file\"\n                        ref={hiddenFileInput}\n                        onChange={handleChange}\n                        accept=\".txt, .pdf\"\n                        style={{ display: 'none' }}\n                    />\n                </div>}\n        </div>\n    );\n};\n\nexport default UploadFile;\n\n\n\nconst styles = StyleSheet.create({\n    draggedContainer: {\n        width: '40%',\n        height: '240px',\n        border: 'dashed 1px #0055cb',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        opacity: .5,\n        marginLeft: '30%',\n    },\n    container: {\n        maxWidth: 750,\n        height: 240,\n        border: 'dashed 1px #2E3B55',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        margin: 'auto',\n        backgroundColor: 'rgba(255,255,255, 0.5)',\n        //        color:'transparent',\n        //        opacity:'40%',\n        //        filter:invert(1),\n        borderRadius: 'var(--muidocs-shap-borderRadius, 10px)'\n    },\n    uploadButtonContainer: {\n        width: 60,\n        height: 60,\n        marginLeft: '43%'\n    },\n    text: {\n        margin: 'auto',\n        height: '18px',\n        fontSize: '16px',\n        fontWeight: '500',\n        color: '#2E3B55',\n    },\n    selectFileButton: {\n        margin: 'auto',\n        alignSelf: 'center',\n        cursor: 'pointer',\n        color: '#0071e9',\n        backgroundColor: 'white',\n        border: 'solid 1px #0071ef',\n        height: '45px',\n        width: '120px',\n        textTransform: 'capitalize',\n        fontSize: '15px',\n\n    },\n    uploadButtons: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    center: {\n        textAlign: 'center',\n        color: '#0071e9',\n        textTransform: 'capitalize',\n        fontFamily: 'Roboto, Arial',\n        fontSize: 20,\n        padding: 5,\n        paddingTop: 30\n    },\n    btn: {\n        cursor: 'pointer',\n        color: '#0071e9',\n        backgroundColor: 'white',\n        border: 'solid 1px #0071ef',\n        height: '45px',\n        width: '100px',\n        textTransform: 'capitalize',\n        fontSize: '15px',\n        margin: 20\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}